{% extends 'base.html.twig' %}

{% block title %}Expeditor - Store Managers List{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset('back/css/jsgrid.min.css') }}" rel="stylesheet">
    <link href="{{ asset('back/css/jsgrid-theme.min.css') }}" rel="stylesheet">
    <style type="text/css">
        td {
            text-align:center
        }
        .plus-icon {
            background: #025a83;
            width: 22px;
            height: 22px;
            line-height: 22px;
            text-align: center;
            display: inline-block;
            color: #fff!important;
            border-radius: 100px;
            margin-right: 35px;
        }
        .plus-icon:hover {
            background: #002661;
            color: #fff;
        }
    </style>
{% endblock %}

{% block content %}
{{ form_start(form) }}
    {{ form_row(form.year) }}    {# <select id="meetup_sport" ... #}
    {{ form_row(form.store) }} {# <select id="meetup_position" ... #}
    {{ form_row(form.truck_route) }}
    {# ... #}
{{ form_end(form) }}
{% endblock content %}

{% block scripts %}

    {{ parent() }}

    <script src="{{ asset('back/js/jquery.dataTables.min.js') }}"></script> 
    <script src="{{ asset('back/js/dataTables.buttons.min.js') }}"></script> 
    <script src="{{ asset('back/js/buttons.flash.min.js') }}"></script> 
    <script src="{{ asset('back/js/jszip.min.js') }}"></script> 
    <script src="{{ asset('back/js/pdfmake.min.js') }}"></script>
    <script src="{{ asset('back/js/vfs_fonts.js') }}"></script> 
    <script src="{{ asset('back/js/buttons.html5.min.js') }}"></script> 
    <script src="{{ asset('back/js/buttons.print.min.js') }}"></script>
    <script src="{{ asset('back/js/data-table.js') }}"></script>

    <script>
        var $store = $('#quarterly_sales_report_store');
        // When sport gets selected ...
        $store.change(function() {
        // ... retrieve the corresponding form.
        var $form = $(this).closest('form');
        // Simulate form data, but only include the selected sport value.
        var data = {};
        data[$store.attr('name')] = $store.val();
        // Submit data via AJAX to the form's action path.
        console.log(data);
        $.ajax({
            url : $form.attr('action'),
            type: $form.attr('method'),
            data : data,
            success: function(html) {
            // Replace current position field ...
            $('#quarterly_sales_report_truck_route').replaceWith(
                // ... with the returned one from the AJAX response.
                $(html).find('#quarterly_sales_report_truck_route')
            );
            // Position field now displays the appropriate positions.
            }
        });
        });
        </script>

{% endblock %}

